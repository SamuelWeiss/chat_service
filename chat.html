<!doctype html>
<html>
  <head>
    <title>Simple Chat</title>
    <style>
      body { font: 13px Helvetica, Arial; }
    </style>
  </head>

  <body>
    <p> Messages </p>
    <div class="messages"> Messages </div>
    <form id="message" action="javascript:alert('Success!');">
      <input type="text" value="">
      <input type="submit" value="Send">
    </form>
    <div id="other">
      <select>
	<option value="loading">Options loading</option>
      </select>
      <button type="button" onclick="refresh_users()">Refresh Users</button>
    </div>
  </body>



<script src="http://code.jquery.com/jquery-1.11.1.js"></script>
<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
<script>  
  var name = prompt("Please enter your username", "Guest");
  var socket = io();
  socket.emit('name', name);

  function refresh_users(){
    socket.emit("request_online", "");
  }

  socket.on("online_users", function(temp){
    <!-- do stuff here -->

  });

  socket.on("name_response", function(valid){
    if(valid == "Failure"){
      alert("Your username has been banned! You will not be able to message anyone!");
    }
  });

  socket.on("message", function(msg){
    $(".messages").append(msg.name + ": " + msg.message);
  });
  
  
  $("#message").submit(function( event ){
    socket.emit('message', $("input:first").val());
    event.preventDefault();
    $("input:first").val() = '';
  });

</script>

</html>
